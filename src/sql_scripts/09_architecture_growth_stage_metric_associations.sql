CREATE TABLE IF NOT EXISTS architecture_growth_stage_metric_associations
(
    id                     INTEGER PRIMARY KEY,
    growth_stage_id        INTEGER        NOT NULL,
    architecture_pillar_id INTEGER        NOT NULL,
    saas_type_id           INTEGER        NULL,
    industry_id            INTEGER        NULL,
    metric_id              INTEGER        NOT NULL,
    min_value              DECIMAL(12, 4) NOT NULL,
    max_value              DECIMAL(12, 4) NOT NULL,
    lo_range_value         DECIMAL(12, 4) NOT NULL,
    hi_range_value         DECIMAL(12, 4) NOT NULL,
    enabled                INTEGER        NOT NULL CHECK (enabled IN (0, 1)),
    FOREIGN KEY (growth_stage_id) REFERENCES growth_stages (id),
    FOREIGN KEY (architecture_pillar_id) REFERENCES architecture_pillars (id),
    FOREIGN KEY (saas_type_id) REFERENCES saas_types (id),
    FOREIGN KEY (industry_id) REFERENCES industries (id),
    FOREIGN KEY (metric_id) REFERENCES metrics (id)
);

CREATE INDEX IF NOT EXISTS idx_architecture_growth_stage_metric_associations
    ON architecture_growth_stage_metric_associations (architecture_pillar_id, growth_stage_id, metric_id);

PRAGMA
    foreign_keys = ON;

DELETE
FROM architecture_growth_stage_metric_associations;

INSERT INTO architecture_growth_stage_metric_associations(id,
                                                          growth_stage_id,
                                                          architecture_pillar_id,
                                                          saas_type_id,
                                                          industry_id,
                                                          metric_id,
                                                          min_value,
                                                          max_value,
                                                          lo_range_value,
                                                          hi_range_value,
                                                          enabled)
VALUES (1, 2, 2, NULL, NULL, 5, 0, 100, 15, 30, 1),
       (2, 2, 2, NULL, NULL, 9, 0, 100, 20, 30, 1),
       (3, 2, 1, 1, NULL, 17, 3, 18, 3, 6, 1),
       (4, 2, 1, 2, NULL, 17, 3, 18, 6, 9, 1),
       (5, 2, 1, NULL, NULL, 14, 0, 100, 50, 65, 1),
       (6, 2, 1, NULL, NULL, 24, 50, 200, 50, 200, 1),
       (7, 2, 1, NULL, NULL, 23, 25000, 10000000, 50000, 175000, 1),
       (8, 2, 3, 1, NULL, 32, 50, 200, 100, 150, 1),
       (9, 2, 3, 2, NULL, 32, 50, 300, 150, 200, 1),
       (10, 2, 3, NULL, NULL, 47, 0, 100, 55, 65, 1),
       (11, 2, 3, NULL, NULL, 46, 0, 100, 35, 45, 1),
       (12, 2, 3, NULL, NULL, 31, 0, 100, 30, 40, 1),
       (13, 3, 2, 1, NULL, 4, 1, 30, 5, 8, 1),
       (14, 3, 2, 2, NULL, 4, 1, 60, 10, 14, 1),
       (15, 3, 2, 1, NULL, 8, 0, 100, 4, 7, 1),
       (16, 3, 2, 2, NULL, 8, 0, 100, 3, 6, 1),
       (17, 3, 1, 1, NULL, 15, 0, 600, 250, 350, 1),
       (18, 3, 1, 2, NULL, 15, 0, 600, 350, 450, 1),
       (19, 3, 1, NULL, NULL, 19, 10, 200, 50, 70, 1),
       (20, 3, 1, NULL, NULL, 25, 25000, 250000, 93000, 132000, 1),
       (21, 3, 3, 1, NULL, 40, 0, 100, 45, 60, 1),
       (22, 3, 3, 2, NULL, 40, 0, 100, 55, 70, 1),
       (23, 3, 3, 1, NULL, 35, 0, 100, 10, 13, 1),
       (24, 3, 3, 2, NULL, 35, 0, 100, 9, 12, 1),
       (25, 3, 3, 1, NULL, 37, 0, 100, 75, 80, 1),
       (26, 3, 3, 2, NULL, 37, 0, 100, 70, 75, 1),
       (27, 4, 2, NULL, NULL, 6, 0, 100, 25, 35, 1),
       (28, 4, 2, NULL, NULL, 7, 0, 100, 70, 80, 1),
       (29, 4, 1, NULL, NULL, 19, 10, 200, 30, 50, 1),
       (30, 4, 1, NULL, 4, 27, 0, 100, 10, 15, 1),
       (31, 4, 1, NULL, 4, 28, 0, 100, 3, 5, 1),
       (32, 4, 1, NULL, 4, 29, 0, 100, 15, 25, 1),
       (33, 4, 1, NULL, 3, 27, 0, 100, 5, 10, 1),
       (34, 4, 1, NULL, 3, 28, 0, 100, 8, 12, 1),
       (35, 4, 1, NULL, 3, 29, 0, 100, 10, 20, 1),
       (36, 4, 1, 2, NULL, 27, 0, 100, 25, 35, 1),
       (37, 4, 1, 2, NULL, 28, 0, 100, 20, 30, 1),
       (38, 4, 1, 2, NULL, 29, 0, 100, 45, 60, 1),
       (39, 4, 1, NULL, NULL, 24, 50, 150, 80, 120, 1),
       (40, 4, 1, NULL, NULL, 23, 25000, 10000000, 375000, 625000, 1),
       (41, 4, 3, 1, NULL, 38, 1, 80, 4, 8, 1),
       (42, 4, 3, 2, NULL, 38, 1, 80, 8, 12, 1),
       (43, 4, 3, 1, NULL, 41, 50, 100, 99, 99.9999, 1),
       (44, 4, 3, 2, NULL, 41, 50, 100, 99, 99.9999, 1),
       (45, 4, 3, 1, NULL, 42, 1, 3000, 300, 800, 1),
       (46, 4, 3, 2, NULL, 42, 1, 3000, 500, 1000, 1),
       (47, 4, 3, 1, NULL, 36, 0, 100, 60, 70, 1),
       (48, 5, 2, 1, NULL, 3, 0, 100, 90, 95, 1),
       (49, 5, 2, 2, NULL, 3, 0, 100, 80, 85, 1),
       (50, 5, 2, NULL, NULL, 1, -100, 100, 60, 75, 1),
       (51, 5, 2, NULL, NULL, 2, 0, 100, 90, 95, 1),
       (52, 5, 1, 1, NULL, 21, 0, 100, 20, 25, 1),
       (53, 5, 1, 2, NULL, 21, 0, 100, 22, 30, 1),
       (54, 5, 1, 1, NULL, 22, 0, 100, 20, 25, 1),
       (55, 5, 1, 2, NULL, 22, 0, 100, 22, 30, 1),
       (56, 5, 1, NULL, 4, 27, 0, 100, 10, 15, 1),
       (57, 5, 1, NULL, 4, 28, 0, 100, 3, 5, 1),
       (58, 5, 1, NULL, 4, 29, 0, 100, 15, 25, 1),
       (59, 5, 1, NULL, 3, 27, 0, 100, 5, 10, 1),
       (60, 5, 1, NULL, 3, 28, 0, 100, 8, 12, 1),
       (61, 5, 1, NULL, 3, 29, 0, 100, 10, 20, 1),
       (62, 5, 1, 2, NULL, 27, 0, 100, 25, 35, 1),
       (63, 5, 1, 2, NULL, 28, 0, 100, 20, 30, 1),
       (64, 5, 1, 2, NULL, 29, 0, 100, 45, 60, 1),
       (65, 5, 3, 1, NULL, 33, 0, 100, 15, 25, 1),
       (66, 5, 3, NULL, NULL, 43, 0, 100, 90, 100, 1),
       (67, 5, 3, NULL, NULL, 44, 0, 100, 75, 100, 1),
       (68, 5, 3, NULL, NULL, 45, 0, 100, 90, 95, 1),
       (69, 3, 2, NULL, NULL, 4, 1, 30, 5, 8, 1),
       (70, 3, 2, NULL, NULL, 8, 0, 100, 4, 7, 1),
       (71, 3, 1, NULL, NULL, 15, 0, 600, 250, 350, 1),
       (72, 3, 3, NULL, NULL, 40, 0, 100, 45, 60, 1),
       (73, 3, 3, NULL, NULL, 35, 0, 100, 10, 13, 1),
       (74, 3, 3, NULL, NULL, 37, 0, 100, 75, 80, 1),
       (75, 4, 3, NULL, NULL, 38, 1, 80, 4, 8, 1),
       (76, 4, 3, NULL, NULL, 41, 50, 100, 99, 99.9999, 1),
       (77, 4, 3, NULL, NULL, 42, 1, 3000, 300, 800, 1),
       (78, 4, 3, NULL, NULL, 36, 0, 100, 60, 70, 1),
       (79, 5, 1, NULL, NULL, 21, 0, 100, 20, 25, 1),
       (80, 5, 1, NULL, NULL, 22, 0, 100, 20, 25, 1),
       (81, 5, 1, NULL, NULL, 27, 0, 100, 25, 35, 1),
       (82, 5, 1, NULL, NULL, 28, 0, 100, 20, 30, 1),
       (83, 5, 1, NULL, NULL, 29, 0, 100, 45, 60, 1);